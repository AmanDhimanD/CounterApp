{"ast":null,"code":"import React__default, { useEffect } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction useOnMount(callback) {\n  useEffect(callback, []);\n}\n\nfunction useSound(src, _ref) {\n  if (_ref === void 0) {\n    _ref = {};\n  }\n\n  var _ref2 = _ref,\n      _ref2$volume = _ref2.volume,\n      volume = _ref2$volume === void 0 ? 1 : _ref2$volume,\n      _ref2$playbackRate = _ref2.playbackRate,\n      playbackRate = _ref2$playbackRate === void 0 ? 1 : _ref2$playbackRate,\n      _ref2$soundEnabled = _ref2.soundEnabled,\n      soundEnabled = _ref2$soundEnabled === void 0 ? true : _ref2$soundEnabled,\n      _ref2$interrupt = _ref2.interrupt,\n      interrupt = _ref2$interrupt === void 0 ? false : _ref2$interrupt,\n      onload = _ref2.onload,\n      delegated = _objectWithoutPropertiesLoose(_ref2, [\"id\", \"volume\", \"playbackRate\", \"soundEnabled\", \"interrupt\", \"onload\"]);\n\n  var HowlConstructor = React__default.useRef(null);\n  var isMounted = React__default.useRef(false);\n\n  var _React$useState = React__default.useState(null),\n      duration = _React$useState[0],\n      setDuration = _React$useState[1];\n\n  var _React$useState2 = React__default.useState(null),\n      sound = _React$useState2[0],\n      setSound = _React$useState2[1];\n\n  var handleLoad = function handleLoad() {\n    if (typeof onload === 'function') {\n      // @ts-ignore\n      onload.call(this);\n    }\n\n    if (isMounted.current) {\n      // @ts-ignore\n      setDuration(this.duration() * 1000);\n    } // @ts-ignore\n\n\n    setSound(this);\n  }; // We want to lazy-load Howler, since sounds can't play on load anyway.\n\n\n  useOnMount(function () {\n    import('howler').then(function (mod) {\n      if (!isMounted.current) {\n        var _mod$Howl; // Depending on the module system used, `mod` might hold\n        // the export directly, or it might be under `default`.\n\n\n        HowlConstructor.current = (_mod$Howl = mod.Howl) !== null && _mod$Howl !== void 0 ? _mod$Howl : mod[\"default\"].Howl;\n        isMounted.current = true;\n        new HowlConstructor.current(_extends({\n          src: Array.isArray(src) ? src : [src],\n          volume: volume,\n          rate: playbackRate,\n          onload: handleLoad\n        }, delegated));\n      }\n    });\n    return function () {\n      isMounted.current = false;\n    };\n  }); // When the `src` changes, we have to do a whole thing where we recreate\n  // the Howl instance. This is because Howler doesn't expose a way to\n  // tweak the sound\n\n  React__default.useEffect(function () {\n    if (HowlConstructor.current && sound) {\n      setSound(new HowlConstructor.current(_extends({\n        src: Array.isArray(src) ? src : [src],\n        volume: volume,\n        onload: handleLoad\n      }, delegated)));\n    } // The linter wants to run this effect whenever ANYTHING changes,\n    // but very specifically I only want to recreate the Howl instance\n    // when the `src` changes. Other changes should have no effect.\n    // Passing array to the useEffect dependencies list will result in\n    // ifinite loop so we need to stringify it, for more details check\n    // https://github.com/facebook/react/issues/14476#issuecomment-471199055\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [JSON.stringify(src)]); // Whenever volume/playbackRate are changed, change those properties\n  // on the sound instance.\n\n  React__default.useEffect(function () {\n    if (sound) {\n      sound.volume(volume);\n      sound.rate(playbackRate);\n    } // A weird bug means that including the `sound` here can trigger an\n    // error on unmount, where the state loses track of the sprites??\n    // No idea, but anyway I don't need to re-run this if only the `sound`\n    // changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [volume, playbackRate]);\n  var play = React__default.useCallback(function (options) {\n    if (typeof options === 'undefined') {\n      options = {};\n    }\n\n    if (!sound || !soundEnabled && !options.forceSoundEnabled) {\n      return;\n    }\n\n    if (interrupt) {\n      sound.stop();\n    }\n\n    if (options.playbackRate) {\n      sound.rate(options.playbackRate);\n    }\n\n    sound.play(options.id);\n  }, [sound, soundEnabled, interrupt]);\n  var stop = React__default.useCallback(function (id) {\n    if (!sound) {\n      return;\n    }\n\n    sound.stop(id);\n  }, [sound]);\n  var pause = React__default.useCallback(function (id) {\n    if (!sound) {\n      return;\n    }\n\n    sound.pause(id);\n  }, [sound]);\n  var returnedValue = [play, {\n    sound: sound,\n    stop: stop,\n    pause: pause,\n    duration: duration\n  }];\n  return returnedValue;\n}\n\nexport default useSound;\nexport { useSound };","map":{"version":3,"mappings":"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","names":["React__default","useEffect","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","useOnMount","callback","useSound","src","_ref","_ref2","_ref2$volume","volume","_ref2$playbackRate","playbackRate","_ref2$soundEnabled","soundEnabled","_ref2$interrupt","interrupt","onload","delegated","HowlConstructor","useRef","isMounted","_React$useState","useState","duration","setDuration","_React$useState2","sound","setSound","handleLoad","current","then","mod","_mod$Howl","Howl","Array","isArray","rate","JSON","stringify","play","useCallback","options","forceSoundEnabled","stop","id","pause","returnedValue"],"sources":["D:/React/counter/node_modules/use-sound/dist/use-sound.esm.js"],"sourcesContent":["import React__default, { useEffect } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction useOnMount(callback) {\n  useEffect(callback, []);\n}\n\nfunction useSound(src, _ref) {\n  if (_ref === void 0) {\n    _ref = {};\n  }\n\n  var _ref2 = _ref,\n      _ref2$volume = _ref2.volume,\n      volume = _ref2$volume === void 0 ? 1 : _ref2$volume,\n      _ref2$playbackRate = _ref2.playbackRate,\n      playbackRate = _ref2$playbackRate === void 0 ? 1 : _ref2$playbackRate,\n      _ref2$soundEnabled = _ref2.soundEnabled,\n      soundEnabled = _ref2$soundEnabled === void 0 ? true : _ref2$soundEnabled,\n      _ref2$interrupt = _ref2.interrupt,\n      interrupt = _ref2$interrupt === void 0 ? false : _ref2$interrupt,\n      onload = _ref2.onload,\n      delegated = _objectWithoutPropertiesLoose(_ref2, [\"id\", \"volume\", \"playbackRate\", \"soundEnabled\", \"interrupt\", \"onload\"]);\n\n  var HowlConstructor = React__default.useRef(null);\n  var isMounted = React__default.useRef(false);\n\n  var _React$useState = React__default.useState(null),\n      duration = _React$useState[0],\n      setDuration = _React$useState[1];\n\n  var _React$useState2 = React__default.useState(null),\n      sound = _React$useState2[0],\n      setSound = _React$useState2[1];\n\n  var handleLoad = function handleLoad() {\n    if (typeof onload === 'function') {\n      // @ts-ignore\n      onload.call(this);\n    }\n\n    if (isMounted.current) {\n      // @ts-ignore\n      setDuration(this.duration() * 1000);\n    } // @ts-ignore\n\n\n    setSound(this);\n  }; // We want to lazy-load Howler, since sounds can't play on load anyway.\n\n\n  useOnMount(function () {\n    import('howler').then(function (mod) {\n      if (!isMounted.current) {\n        var _mod$Howl;\n\n        // Depending on the module system used, `mod` might hold\n        // the export directly, or it might be under `default`.\n        HowlConstructor.current = (_mod$Howl = mod.Howl) !== null && _mod$Howl !== void 0 ? _mod$Howl : mod[\"default\"].Howl;\n        isMounted.current = true;\n        new HowlConstructor.current(_extends({\n          src: Array.isArray(src) ? src : [src],\n          volume: volume,\n          rate: playbackRate,\n          onload: handleLoad\n        }, delegated));\n      }\n    });\n    return function () {\n      isMounted.current = false;\n    };\n  }); // When the `src` changes, we have to do a whole thing where we recreate\n  // the Howl instance. This is because Howler doesn't expose a way to\n  // tweak the sound\n\n  React__default.useEffect(function () {\n    if (HowlConstructor.current && sound) {\n      setSound(new HowlConstructor.current(_extends({\n        src: Array.isArray(src) ? src : [src],\n        volume: volume,\n        onload: handleLoad\n      }, delegated)));\n    } // The linter wants to run this effect whenever ANYTHING changes,\n    // but very specifically I only want to recreate the Howl instance\n    // when the `src` changes. Other changes should have no effect.\n    // Passing array to the useEffect dependencies list will result in\n    // ifinite loop so we need to stringify it, for more details check\n    // https://github.com/facebook/react/issues/14476#issuecomment-471199055\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [JSON.stringify(src)]); // Whenever volume/playbackRate are changed, change those properties\n  // on the sound instance.\n\n  React__default.useEffect(function () {\n    if (sound) {\n      sound.volume(volume);\n      sound.rate(playbackRate);\n    } // A weird bug means that including the `sound` here can trigger an\n    // error on unmount, where the state loses track of the sprites??\n    // No idea, but anyway I don't need to re-run this if only the `sound`\n    // changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [volume, playbackRate]);\n  var play = React__default.useCallback(function (options) {\n    if (typeof options === 'undefined') {\n      options = {};\n    }\n\n    if (!sound || !soundEnabled && !options.forceSoundEnabled) {\n      return;\n    }\n\n    if (interrupt) {\n      sound.stop();\n    }\n\n    if (options.playbackRate) {\n      sound.rate(options.playbackRate);\n    }\n\n    sound.play(options.id);\n  }, [sound, soundEnabled, interrupt]);\n  var stop = React__default.useCallback(function (id) {\n    if (!sound) {\n      return;\n    }\n\n    sound.stop(id);\n  }, [sound]);\n  var pause = React__default.useCallback(function (id) {\n    if (!sound) {\n      return;\n    }\n\n    sound.pause(id);\n  }, [sound]);\n  var returnedValue = [play, {\n    sound: sound,\n    stop: stop,\n    pause: pause,\n    duration: duration\n  }];\n  return returnedValue;\n}\n\nexport default useSound;\nexport { useSound };\n"]},"metadata":{},"sourceType":"module"}